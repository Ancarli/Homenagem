<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nosso Amor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fafafa;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            overflow-x: hidden;
            flex-direction: column;
            text-align: center;
            touch-action: manipulation;
        }

        .heart {
            position: absolute;
            font-size: calc(10px + 20 * var(--size));
            opacity: var(--opacity);
            animation: float 5s infinite linear;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes float {
            0% { transform: translateY(100vh); opacity: 1; }
            100% { transform: translateY(-10vh); opacity: 0; }
        }

        .post {
            width: 100%;
            max-width: 400px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            position: relative;
            z-index: 1;
            margin-top: 20px;
        }

        .post-header {
            display: flex;
            align-items: center;
            padding: 10px;
            background-color: #fff;
            border-bottom: 1px solid #ddd;
        }

        .profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            object-fit: cover;
        }

        .profile-name {
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }

        .photo-container {
            width: 100%;
            height: 300px;
            display: flex;
            overflow: hidden;
            position: relative;
            touch-action: pan-y;
        }

        .photo {
            width: 100%;
            height: 100%;
            object-fit: contain;
            position: absolute;
            opacity: 0;
            transition: opacity 0.5s;
            background-color: #f5f5f5;
        }

        .photo.active { opacity: 1; }

        .dots {
            display: flex;
            justify-content: center;
            padding: 10px;
            background-color: #fff;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #ccc;
            margin: 0 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .dot.active { background-color: #333; }

        .post-footer {
            padding: 10px;
            background-color: #fff;
            border-top: 1px solid #ddd;
        }

        .post-footer p {
            margin: 0;
            font-size: 14px;
            line-height: 1.4;
            text-align: left;
            color: #333;
        }

        .time-together {
            font-size: 13px;
            color: #666;
            text-align: left;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid #eee;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .time-together span {
            font-weight: bold;
            color: #333;
        }

        .music-player {
            background: #f8f8f8;
            color: #333;
            border-radius: 20px;
            padding: 10px 15px;
            width: 100%;
            max-width: 300px;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid #ddd;
        }

        .music-info {
            font-size: 14px;
            margin-right: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex-grow: 1;
            text-align: left;
            color: #333;
        }

        .music-controls {
            display: flex;
            gap: 8px;
        }

        .music-controls button {
            background: none;
            border: none;
            color: #333;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
            min-width: 30px;
            transition: color 0.2s;
        }

        .music-controls button:hover {
            color: #ff6b6b;
        }

        @media (max-width: 480px) {
            .photo-container { height: 250px; }
            .post-footer p { font-size: 13px; }
            .time-together { font-size: 12px; }
            .music-player { max-width: 280px; }
            body { padding: 10px; }
        }
    </style>
</head>
<body>
    <!-- Player de M√∫sica -->
    <div class="music-player">
        <div class="music-info" id="music-name">Nossa M√∫sica</div>
        <div class="music-controls">
            <button id="prev-music">‚èÆ</button>
            <button id="toggle-music">‚ñ∂</button>
            <button id="next-music">‚è≠</button>
        </div>
    </div>

    <!-- Post com fotos e legendas -->
    <div class="post">
        <div class="post-header">
            <img src="perfil.jpg" alt="Foto de Perfil" class="profile-pic">
            <span class="profile-name">Meu Amor</span>
        </div>

        <div class="photo-container">
            <img src="imagen1.jpg" class="photo active" alt="Foto 1">
            <img src="imagen2.jpg" class="photo" alt="Foto 2">
            <img src="imagen3.jpg" class="photo" alt="Foto 3">
            <img src="imagen4.jpg" class="photo" alt="Foto 4">
            <img src="imagen5.jpg" class="photo" alt="Foto 5">
        </div>

        <div class="dots" id="dots-container"></div>

        <div class="post-footer">
            <p id="caption">Cada momento ao seu lado √© um tesouro que guardo no cora√ß√£o. ‚ù§Ô∏è</p>
            <div class="time-together">
                Juntos a <span id="years">0a</span>
                <span id="months">0m</span>
                <span id="days">0d</span>
                <span id="hours">0h</span>
                <span id="minutes">0min</span>
                <span id="seconds">0s</span>
            </div>
        </div>
    </div>

    <!-- √Åudios das m√∫sicas -->
    <audio id="music1" src="musica1.mp3"></audio>
    <audio id="music2" src="musica2.mp3"></audio>

    <script>
        // Galeria de fotos
        const photos = document.querySelectorAll(".photo");
        const dotsContainer = document.getElementById("dots-container");
        const captions = [
            "Cada momento ao seu lado √© um tesouro que guardo no cora√ß√£o. Seu sorriso ilumina meus dias, e seu amor preenche cada espa√ßo da minha alma. ‚ù§Ô∏è",
            "Nosso amor √© como uma sinfonia, cada dia uma nova melodia que nos encanta. Nas suas risadas, encontro a m√∫sica mais doce. üíñ",
            "Juntos, constru√≠mos um mundo onde s√≥ existem sorrisos e sonhos compartilhados. Voc√™ √© a minha paz, a minha alegria e o meu tudo. üíò",
            "Voc√™ √© a minha estrela guia, o meu porto seguro e o meu maior tesouro. Ao seu lado, eu sou completo. üíû",
            "Eu te amo mais do que todas as estrelas no c√©u. Voc√™ √© a raz√£o do meu sorriso e a luz que ilumina o meu caminho. üíì"
        ];

        let currentIndex = 0;

        function createDots() {
            photos.forEach((_, index) => {
                const dot = document.createElement("div");
                dot.classList.add("dot");
                if (index === currentIndex) dot.classList.add("active");
                dot.addEventListener("click", () => changePhoto(index - currentIndex));
                dotsContainer.appendChild(dot);
            });
        }

        function updateDots() {
            const dots = document.querySelectorAll(".dot");
            dots.forEach((dot, index) => {
                dot.classList.toggle("active", index === currentIndex);
            });
        }

        function changePhoto(direction) {
            photos[currentIndex].classList.remove("active");
            currentIndex = (currentIndex + direction + photos.length) % photos.length;
            photos[currentIndex].classList.add("active");
            document.getElementById("caption").textContent = captions[currentIndex];
            updateDots();
        }

        // Suporte a gestos de toque
        let touchStartX = 0;
        let touchEndX = 0;

        const photoContainer = document.querySelector(".photo-container");
        
        photoContainer.addEventListener("touchstart", (e) => {
            touchStartX = e.touches[0].clientX;
        }, { passive: true });

        photoContainer.addEventListener("touchmove", (e) => {
            touchEndX = e.touches[0].clientX;
        }, { passive: true });

        photoContainer.addEventListener("touchend", () => {
            const swipeDistance = touchEndX - touchStartX;
            if (swipeDistance > 50) changePhoto(-1);
            else if (swipeDistance < -50) changePhoto(1);
        }, { passive: true });

        createDots();

        // Cora√ß√µes animados
        function createHeart() {
            const heart = document.createElement("div");
            heart.classList.add("heart");
            heart.innerHTML = "‚ù§Ô∏è";
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.setProperty("--size", Math.random());
            heart.style.setProperty("--opacity", Math.random() * 0.7 + 0.3);
            heart.style.animationDuration = Math.random() * 2 + 3 + "s";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }
        setInterval(createHeart, 700);

        // Contador de tempo desde 01/10/2020 12:00:00
        function updateTimeTogether() {
            const startDate = new Date('2020-10-01T12:00:00');
            const currentDate = new Date();
            
            // Calcula anos
            let years = currentDate.getFullYear() - startDate.getFullYear();
            
            // Ajusta meses
            let months = currentDate.getMonth() - startDate.getMonth();
            if (months < 0 || (months === 0 && currentDate.getDate() < startDate.getDate())) {
                years--;
                months += 12;
            }
            
            // Calcula dias
            const tempDate = new Date(startDate);
            tempDate.setFullYear(startDate.getFullYear() + years);
            tempDate.setMonth(startDate.getMonth() + months);
            
            let days = Math.floor((currentDate - tempDate) / (1000 * 60 * 60 * 24));
            
            // Calcula horas, minutos e segundos
            const hours = currentDate.getHours();
            const minutes = currentDate.getMinutes();
            const seconds = currentDate.getSeconds();
            
            // Atualiza o display
            document.getElementById('years').textContent = years + 'a';
            document.getElementById('months').textContent = months + 'm';
            document.getElementById('days').textContent = days + 'd';
            document.getElementById('hours').textContent = hours + 'h';
            document.getElementById('minutes').textContent = minutes + 'min';
            document.getElementById('seconds').textContent = seconds + 's';
        }

        // Player de m√∫sica
        const music1 = document.getElementById("music1");
        const music2 = document.getElementById("music2");
        const toggleMusicBtn = document.getElementById("toggle-music");
        const nextMusicBtn = document.getElementById("next-music");
        const prevMusicBtn = document.getElementById("prev-music");
        const musicName = document.getElementById("music-name");

        const songs = [
            { audio: music1, name: "Nossa M√∫sica 1" },
            { audio: music2, name: "Nossa M√∫sica 2" }
        ];

        let currentSongIndex = 0;
        let currentSong = songs[currentSongIndex].audio;
        let isPlaying = false;

        function updateMusicInfo() {
            musicName.textContent = songs[currentSongIndex].name;
        }

        function playMusic() {
            currentSong.play()
                .then(() => {
                    isPlaying = true;
                    toggleMusicBtn.textContent = "‚è∏";
                    updateMusicInfo();
                })
                .catch(error => {
                    console.log("Autoplay prevented. Click to start playback.");
                });
        }

        function pauseMusic() {
            currentSong.pause();
            isPlaying = false;
            toggleMusicBtn.textContent = "‚ñ∂";
        }

        function togglePlayPause() {
            if (isPlaying) {
                pauseMusic();
            } else {
                playMusic();
            }
        }

        function changeSong(direction) {
            pauseMusic();
            currentSongIndex = (currentSongIndex + direction + songs.length) % songs.length;
            currentSong = songs[currentSongIndex].audio;
            if (isPlaying) {
                playMusic();
            } else {
                updateMusicInfo();
            }
        }

        // Event listeners para controles de m√∫sica
        toggleMusicBtn.addEventListener("click", togglePlayPause);
        nextMusicBtn.addEventListener("click", () => changeSong(1));
        prevMusicBtn.addEventListener("click", () => changeSong(-1));

        songs.forEach(song => {
            song.audio.addEventListener("ended", () => {
                if (isPlaying) {
                    changeSong(1);
                    playMusic();
                }
            });
        });

        // Inicializa√ß√£o
        updateMusicInfo();
        updateTimeTogether();
        setInterval(updateTimeTogether, 1000);

        // Permite tocar m√∫sica ap√≥s intera√ß√£o do usu√°rio
        document.body.addEventListener("click", function initMusic() {
            if (currentSong.paused && !isPlaying) {
                playMusic();
            }
            document.body.removeEventListener("click", initMusic);
        }, { once: true });
    </script>
</body>
</html>
